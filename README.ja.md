# 分岐型会話に対応したLLMチャットアプリケーション

このアプリケーションは、LLM(Language Model)とのチャットを行いながら、過去の会話ノードへ遡って新しい分岐を作成できるチャットツールです。通常のチャットアプリとは異なり、会話の途中から別の流れを開始できます。

![alt text](images/image.png)

## 特徴

* **会話の分岐**: 以前の任意のノードから新しい会話ブランチを作成できます。
* **複数のLLMプロバイダーに対応**: OpenAI、Azure、Gemini、Claude、Ollama を利用可能です。
* **視覚的な会話ツリー**: 会話履歴をツリー表示し、簡単に移動や分岐が行えます。
* **簡単な設定**: 画面から各LLMプロバイダーのAPIキーやURLを設定できます。

## インストール

1. リポジトリをクローンします。

   ```bash
   git clone <repository_url>
   cd llm-node-chat
   npm install
   ```

2. バックエンドの依存関係をインストールします。

   ```bash
   cd backend
   uv venv
   source .venv/bin/activate
   uv sync
   cd ..
   ```

3. フロントエンドの依存関係をインストールします。

   ```bash
   cd frontend
   npm install
   cd ..
   ```

4. 環境変数を設定します。

   `backend/.env.example` を `.env` にコピーし、必要に応じて編集してください。

## 設定

1. **APIキー**
   * 使用したい LLM プロバイダー（OpenAI、Gemini、Claude など）の API キーを用意します。
   * アプリケーションの設定画面で API キーを入力します。

2. **Ollama**
   * Ollama を利用する場合は、インストールして起動しておく必要があります。
   * 設定画面で Ollama のベース URL を指定できます。

## アプリケーションの起動

1. サーバーを起動します。

   ```bash
   npm run dev
   ```

2. ブラウザで `http://localhost:3000` を開きます。

## 使い方

1. **新しいチャットを開始**
   * サイドバーの "New Chat" ボタンをクリックします。

2. **メッセージを送信**
   * テキストボックスにメッセージを入力し Enter キーを押します。

3. **会話を分岐させる**
   * 会話ツリー内のノードを選択すると、その時点に戻って新しい分岐を作成できます。

4. **LLM プロバイダーの設定**
   * サイドバーの "Settings" ボタンをクリックし、各プロバイダーの API キーや URL を設定します。
   * 利用するプロバイダーを選択します。

## 貢献

貢献を歓迎します。プルリクエストを送ってください。

## ライセンス

[MIT](LICENSE)
