# アクティブコンテキスト

## 現在の作業の焦点

現在、プロジェクトの初期セットアップとして、メモリバンクのコアファイルの初期化を行っています。これにより、プロジェクトの目的、技術スタック、システムアーキテクチャ、および開発プロセスに関する基本的なコンテキストが確立されます。

## 最近の変更

*   `memory-bank/projectbrief.md` を作成しました。
*   `memory-bank/productContext.md` を作成しました。
*   `memory-bank/systemPatterns.md` を作成しました。
*   `memory-bank/techContext.md` を作成しました。

## 次のステップ

残りのメモリバンクコアファイルを作成します。

1.  `memory-bank/activeContext.md` (現在作成中)
2.  `memory-bank/progress.md`

## アクティブな決定と考慮事項

*   **LLMプロバイダーの選択**: 複数のLLMプロバイダーに対応する設計ですが、初期開発では特定のプロバイダー（例: OpenAI）に焦点を当て、後で拡張性を確保することを検討します。
*   **状態管理ライブラリの選択**: フロントエンドの状態管理にZustandとRecoilが候補に挙がっています。どちらがプロジェクトのニーズに最適か、または両方を組み合わせるかについて、今後の開発で決定します。
*   **会話ブランチの深さ**: LLMへの入力コンテキストの`max_tokens`制限を考慮し、会話ブランチの深さがパフォーマンスやコストに与える影響を評価する必要があります。

## 重要なパターンと好み

*   **クリーンアーキテクチャ**: フロントエンドとバックエンドの分離を明確にし、各層の責務を明確にすることで、保守性と拡張性を高めます。
*   **テスト駆動開発 (TDD)**: 可能であれば、主要なロジック（特に会話ブランチの管理やLLMコンテキストの準備）に対してTDDアプローチを採用し、堅牢性を確保します。

## 学習とプロジェクトの洞察

*   会話のツリー構造を効率的に管理するためのデータベーススキーマ設計が重要です。`parent_id`による階層構造は、Gitのようなブランチ管理を模倣する上で適切です。
*   リアルタイム通信の要件は、フロントエンドとバックエンド間のデータ同期においてWebSocket/SSEの適切な実装を必要とします。
